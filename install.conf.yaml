# Reference: https://github.com/anishathalye/dotbot#directives
- clean: ['~']

# link cross-platform
- shell:
  - ["", ========== shell pre-execute ==========]
  - [git submodule update --init --recursive, Update submodules]

- defaults:
    link:
      create: true
      relink: true
      force: true
      relative: true

- link:
    ~/.vim/autoload/plug.vim: submodules/vim-plug/plug.vim
    ~/.vimrc: vimrc
    ~/.tmux.conf.local: tmux.conf.local
    ~/.gitconfig: gitconfig
    ~/.ssh/vps_id_rsa: ssh/vps_id_rsa
    # submodules
    ~/.fzf: submodules/fzf
    ~/.tmux.conf: submodules/.tmux/.tmux.conf
    ~/.gitmux.conf: gitmux.conf



# link for macOS
- shell:
  - ["", ========== macOS install ==========]

- defaults:
    link:
      create: true
      relink: true
      force: true
      relative: true
      if: '[ $(uname) = Darwin ]'

- link:
    ~/bin/rg: macos/bin/rg
    ~/.hammerspoon: macos/hammerspoon
    ~/.tmux.conf.local.os: macos/tmux.conf.local
    ~/.gitmux: macos/gitmux
    ~/.zshrc: zshrc
    ~/.oh-my-zsh: submodules/ohmyzsh
    ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions:
      relative: false
      path: submodules/zsh-autosuggestions
    ~/.oh-my-zsh/custom/themes/sol-light.zsh-theme:
      relative: false
      path: zsh/oh-my-zsh.theme.sol-light


# link for Linux(Ubuntu)
- shell:
  - ["", ========== Linux install ==========]

- defaults:
    link:
      create: true
      relink: true
      force: true
      relative: true
      if: '[ $(uname) = Linux ]'

- link:
    ~/.bashrc: bashrc
    ~/.tmux.conf.local.os: linux/tmux.conf.local
    ~/.gitmux: linux/gitmux



# Shell
- shell:
  - ["", ========== shell post-execute ==========]
  - [chmod 700 ~/.ssh && chmod 0600 ~/.ssh/vps_id_rsa, Avoid id_rsa permission too open]

