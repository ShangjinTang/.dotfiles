- defaults:
    link:
      create: true
      relink: true
      force: true
      relative: true


- clean: ['~']


- link:
    # link cross-platform
    ~/.vim/autoload: vim/autoload
    ~/.vimrc: vimrc
    ~/.tmux.conf: tmux.conf
    ~/.tmux.conf.local: tmux.conf.local
    ~/.gitconfig: gitconfig
    ~/.fzf: fzf
    ~/.ssh/vps_id_rsa: ssh/vps_id_rsa

    # link for macOS
    ~/.hammerspoon:
      if: '[ $(uname) = Darwin ]'
      path: macos/hammerspoon
    # link for macOS version <= 10.14
    ~/bin/rg:
      if: '[ $(uname) = Darwin ] && [ $SHELL = "/bin/bash" ]'
      path: macos/bin/rg
    ~/.bash_profile:
      if: '[ $(uname) = Darwin ] && [ $SHELL = "/bin/bash" ]'
      path: bashrc
    # link for macOS version >= 10.15
    ~/.zshrc:
      if: '[ $(uname) = Darwin ] && [ $SHELL = "/bin/zsh" ]'
      path: bashrc
    ~/.tmux.conf.macos:
      if: '[ $(uname) = Darwin ]'
      path: macos/tmux.conf.macos
    ~/.tmux.conf.linux:
      if: '[ $(uname) = Linux ]'
      path: linux/tmux.conf.linux
      
    # link for Linux(Ubuntu)
    ~/.bashrc:
      if: '[ $(uname) = Linux ]'
      path: bashrc


- create:
    ~/.ssh:
      mode: 0700
    ~/temp:


- shell:
  - [git submodule update --init --recursive fzf, Update specific submodules]
  - [chmod 0600 ~/.ssh/vps_id_rsa, Avoid id_rsa permission too open]

